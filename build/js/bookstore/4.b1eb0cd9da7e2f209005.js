webpackJsonp([4],{atO1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("Biqn"),r=t.n(s),l=t("oZX+"),i=t("NYxO"),n={name:"PurchasePage",components:{BackBtn:l["a"]},data:function(){return{contactValid:!0,deliveryValid:!0,userData:{pay:"",name:void 0,email:void 0,phone:"+7",address:{city:void 0,str:void 0,building:void 0,flat:void 0,block:""}},nameRules:[function(e){return!!e||"Name is required"},function(e){return/^([а-яА-ЯЁё]{3,10})/.test(e)||"Name is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],phoneRules:[function(e){return!!e||"Phone is required"}],cityRules:[function(e){return/^([Ёёа-яА-Я-\s]{2,29})/.test(e)||"Неверно написан город"}],strRules:[function(e){return/^([Ёёа-яА-Я-\s.]{2,29})/.test(e)||"Укажите правильно улицу"}]}},computed:r()({},Object(i["c"])(["inCart","cart","uid","allPrice","themeMode"])),methods:r()({buy:function(){if(this.$refs.deliveryValid.validate()&&this.$refs.contatcsForm.validate())return alert("Это всего лишь демо-версия (: ");var e;for(var a in this.userData)if(void 0===this.userData[a]||""===this.userData[a]||null===this.userData[a])return e=!1,alert("Все поля обязательны к заполнению");for(var t in this.userData.address)if(void 0===this.userData.address[t]||""===this.userData.address[t])return e=!1,alert("Все поля обязательны к заполнению");if(12!==this.userData.phone.length)return alert("Все поля обязательны к заполнению");!1!==e&&alert("Это всего лишь демо-версия (: ")}},Object(i["d"])(["removeFromCart","addToCart","deleteFromCart"]))},o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"app-container",attrs:{"justify-centerfluid":""}},[t("v-layout",{attrs:{wrap:"","justify-center":""}},[t("BackBtn"),e.inCart?t("v-flex",{attrs:{xs12:"",sm8:""}},[t("h4",[e._v("Вы собираетесь купить:")]),t("v-list",[e._l(e.cart,function(a,s){return[a.quantity>0?t("v-list-tile",{key:s},[t("span",[e._v(e._s(a.book.Bookname))]),t("v-spacer"),t("span",{staticClass:"cur icon-align",on:{click:function(t){e.removeFromCart(a.book.Bookname)}}},["theme--dark"===e.themeMode?t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23FFFFFF' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"remove",title:"Удалить 1 шт"}}):t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"remove",title:"Удалить 1 шт"}})]),a.quantity>0?t("small",[e._v(" x"+e._s(a.quantity))]):e._e(),t("span",{staticClass:"cur icon-align",on:{click:function(t){e.addToCart(a.book.Bookname)}}},["theme--dark"===e.themeMode?t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23FFFFFF' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"add",title:"Добавить еще"}}):t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"add",title:"Добавить еще"}})]),t("span",{staticClass:"cur icon-align",on:{click:function(t){e.deleteFromCart(a.book.Bookname)}}},["theme--dark"===e.themeMode?t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23FFFFFF' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"delete",title:"Убрать из корзины"}}):t("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"delete",title:"Убрать из корзины"}})]),t("span",[e._v(e._s(a.book.price)+" руб.")])],1):e._e()]}),t("v-layout",{attrs:{"justify-center":""}},[t("span",[e._v("Выбрано книг на сумму "+e._s(e.allPrice)+" руб.")])])],2),t("br"),t("section",{staticClass:"contacts"},[t("h4",[e._v("Контакты:")]),t("v-form",{ref:"contatcsForm",attrs:{"lazy-validation":""},model:{value:e.contactValid,callback:function(a){e.contactValid=a},expression:"contactValid"}},[t("span",[e._v("Ваше имя:")]),t("v-text-field",{attrs:{label:"Имя",rules:e.nameRules,required:""},model:{value:e.userData.name,callback:function(a){e.$set(e.userData,"name",a)},expression:"userData.name"}}),t("span",[e._v("Email:")]),t("v-text-field",{attrs:{label:"Email",rules:e.emailRules,required:""},model:{value:e.userData.email,callback:function(a){e.$set(e.userData,"email",a)},expression:"userData.email"}}),t("span",[e._v("Телефон:")]),t("v-text-field",{attrs:{label:"Phone",rules:e.phoneRules,required:"",maxlength:"12",mask:"+7-###-###-##-##"},model:{value:e.userData.phone,callback:function(a){e.$set(e.userData,"phone",a)},expression:"userData.phone"}})],1),t("h4",[e._v("Куда доставить?")]),t("v-form",{ref:"deliveryForm",attrs:{"lazy-validation":""},model:{value:e.deliveryValid,callback:function(a){e.deliveryValid=a},expression:"deliveryValid"}},[t("span",[e._v("Город")]),t("v-text-field",{attrs:{placeholder:"Город",rules:e.cityRules,required:""},model:{value:e.userData.address.city,callback:function(a){e.$set(e.userData.address,"city",a)},expression:"userData.address.city"}}),t("span",[e._v("Улица")]),t("v-text-field",{attrs:{placeholder:"Улица",rules:e.strRules,required:""},model:{value:e.userData.address.str,callback:function(a){e.$set(e.userData.address,"str",a)},expression:"userData.address.str"}}),t("span",[e._v("Дом:")]),t("v-text-field",{attrs:{label:"Например 12 или 12-а",rules:[function(e){return/^\d+(-[аА])?/.test(e)||"Неверно написан номер дома"}],required:""},model:{value:e.userData.address.building,callback:function(a){e.$set(e.userData.address,"building",a)},expression:"userData.address.building"}}),t("span",[e._v("Квартира")]),t("v-text-field",{attrs:{placeholder:"Квартира",rules:[function(e){return/^\d+/.test(e)||"Неверно написан номер квартиры"}],required:"",maxlength:"4"},model:{value:e.userData.address.flat,callback:function(a){e.$set(e.userData.address,"flat",e._n(a))},expression:"userData.address.flat"}}),t("span",[e._v("Корпус")]),t("v-text-field",{attrs:{placeholder:"Корпус",label:"Если есть",rules:[function(e){return/^\d+/.test(e)||"Неверно написан корпус дома"}],maxlength:"2"},model:{value:e.userData.address.block,callback:function(a){e.$set(e.userData.address,"block",a)},expression:"userData.address.block"}})],1)],1),t("br"),t("h4",[e._v("Способ оплаты:")]),t("section",{staticClass:"paymethod"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.pay,expression:"userData.pay"}],attrs:{id:"Cash",type:"radio",value:"Cash"},domProps:{checked:e._q(e.userData.pay,"Cash")},on:{change:function(a){e.$set(e.userData,"pay","Cash")}}}),t("label",{attrs:{for:"Cash"}},[e._v("Оплата наличными")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.pay,expression:"userData.pay"}],attrs:{id:"BankCard",type:"radio",value:"BankCard"},domProps:{checked:e._q(e.userData.pay,"BankCard")},on:{change:function(a){e.$set(e.userData,"pay","BankCard")}}}),t("label",{attrs:{for:"BankCard"}},[e._v("Банковская карта")])]),t("v-btn",{on:{click:e.buy}},[e._v("Заказать")]),t("br"),t("p",[e._v("Мы Вам перезвоним в течение 10 минут и уточним детали заказа. Спасибо, что пользуйтесь нашим сервисом (:")])],1):t("section",{attrs:{xs3:""}},[t("p",[e._v("Нечего заказывать (:")]),t("span",[e._v("Пожалуй, стоит сначала "),t("router-link",{attrs:{to:"/"}},[e._v("выбрать")]),e._v(", что купить")],1)])],1)],1)},d=[],u=t("XyMi"),v=!1,c=null,h=null,m=null,p=Object(u["a"])(n,o,d,v,c,h,m);a["default"]=p.exports}});