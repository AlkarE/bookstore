webpackJsonp([1],{NTni:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Biqn"),o=e.n(a),i=e("UTfu"),r=(e("U6qc"),e("NYxO")),n={name:"RecommendedBooks",data:function(){return{books:[]}},mounted:function(){setTimeout(this.getRndBooks,900)},computed:o()({recBooks:function(){return this.books},binding:function(){var t=this.$vuetify.breakpoint.mdAndUp?"justify-end":"justify-start";return t}},Object(r["c"])(["fetchedData","themeMode"])),methods:{goToRecBook:function(t){this.$router.push({path:"/book/".concat(t)}),this.$store.dispatch("fetchDirectBook",t)},getRndBooks:function(){var t=Math.floor(Math.random()*this.fetchedData.length),s=Math.floor(t/2),e=this.fetchedData.length-t,a=this.$route.params.id,o=this.fetchedData.findIndex(function(t){return t.id===+a});o!==t&&o!==this.fetchedData.length?this.$set(this.books,0,this.fetchedData[t]):this.$set(this.books,0,this.fetchedData[t-1]),o!==s&&0!==o&&t-1!==s?this.$set(this.books,1,this.fetchedData[s]):0!==s?this.$set(this.books,1,this.fetchedData[s-1]):this.$set(this.books,1,this.fetchedData[1]),o!==e&&o>0&&e!==t&&s!==e&&t!==s?this.$set(this.books,2,this.fetchedData[e]):this.$set(this.books,2,this.fetchedData[s+1])}},watch:{$route:function(t,s){this.getRndBooks()}},beforeDestroy:function(){this.books=null}},c=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("v-layout",{class:t.binding,attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-layout",{class:!0===t.binding?"":"wrap",attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("p",[t._v("Рекомендуем ознакомиться:")])]),t._l(t.recBooks,function(s){return a("v-flex",{key:s.id,staticClass:"ma-2 rec-up",attrs:{md3:""}},[a("v-card",{staticClass:"pa-2 text-xs-center"},[a("img",{staticClass:"rec-image",attrs:{src:e("PvXa")("./"+s.src)}}),a("p",{staticClass:"tit"},[t._v(t._s(s.Bookname))]),a("v-layout",{staticClass:"px-2"},[a("v-btn",{attrs:{icon:"",alt:"Подробнее",title:"Подробнее"},on:{click:function(e){t.goToRecBook(s.id)}}},["theme--dark"===t.themeMode?a("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23FFFFFF' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z'/%3E%3C/svg%3E",alt:"description"}}):a("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z'/%3E%3C/svg%3E",alt:"description"}})]),a("v-spacer"),a("span",{staticClass:"mt-3"},[t._v(t._s(s.price)+" руб.")]),a("v-spacer"),a("v-flex")],1)],1)],1)})],2)],1)],1)},l=[],d=e("XyMi");function h(t){e("jrnI")}var u=!1,v=h,p="data-v-458edcc0",f=null,m=Object(d["a"])(n,c,l,u,v,p,f),k=m.exports,g=e("oZX+"),w=e("2naJ"),b={name:"ProductPage",components:{AdsView:i["a"],RecBooks:k,BackBtn:g["a"],BuyBtn:w["a"]},beforeMount:function(){if(!this.product){if(!/^\d+$/.test(Number(this.$route.params.id)))return null;this.$store.dispatch("fetchDirectBook",this.$route.params.id)}},computed:o()({path:function(){return"http://df000.ru/project/bookstore/".concat(this.$route.path)},mobilePoster:function(){return this.$vuetify.breakpoint.xs},binding:function(){var t={};return this.$vuetify.breakpoint.xs&&(t.column=!0),t}},Object(r["c"])(["product","themeMode"])),methods:{addBookmark:function(){this.$store.commit("addBookmark",this.product)}}},x=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("v-container",{staticClass:"app-container",attrs:{fluid:""}},[a("BackBtn"),t.product?a("transition",{attrs:{name:"fade",appear:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticClass:"hidden-sm-and-down",attrs:{xs2:""}},[a("AdsView",{attrs:{addsLayout:"column"}})],1),a("v-flex",{staticClass:"mb-3 py-3",attrs:{xs10:""}},[a("v-card",[a("v-layout",t._b({staticClass:"pa-2"},"v-layout",t.binding,!1),[t.mobilePoster?a("div",{staticClass:"mob-poster-div"},[a("img",{staticClass:"mobile-poster",attrs:{src:e("PvXa")("./"+t.product.src)}})]):t._e(),a("v-flex",{attrs:{sm3:""}},[t.mobilePoster?t._e():a("v-card-media",{attrs:{src:e("PvXa")("./"+t.product.src),height:"320px",contain:""}})],1),a("v-flex",{staticClass:"list_view-top",attrs:{sm8:""}},[a("p",{staticClass:"headline tit-dark"},[t._v(t._s(t.product.Bookname))]),a("p",[t._v(t._s(t.product.author))]),a("p",[t._v(t._s(t.product.Description))]),a("v-layout",{staticClass:"list_view-bot",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("span",{staticClass:"red--text"},[t._v("Цена: "+t._s(t.product.price)+" руб.")]),a("v-spacer"),a("BuyBtn",{staticClass:"buy-btn",attrs:{item:t.product.Bookname}}),a("div",{staticClass:"cur",attrs:{title:"Добавить в закладки"},on:{click:t.addBookmark}},["theme--dark"===t.themeMode?a("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23FFFFFF' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"add to bookmark"}}):a("img",{attrs:{src:"data:image/svg+xml,%3Csvg fill='%23000000' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E",alt:"add to bookmark"}})])],1)],1),a("v-flex",{attrs:{xs12:""}},[a("p",[t._v("Поделиться в соц. сетях:")]),a("social-sharing",{attrs:{url:t.path,title:t.product.Bookname,description:t.product.Description},inlineTemplate:{render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-layout",{staticClass:"cur",attrs:{"justify-space-between":""}},[e("network",{staticClass:"pr-1",attrs:{network:"facebook",id:"facebook"}},[t._v("\n                        Facebook\n                      ")]),e("network",{staticClass:"px-1",attrs:{network:"googleplus",id:"googleplus"}},[t._v("\n                        Google +\n                      ")]),e("network",{staticClass:"px-1",attrs:{network:"twitter",id:"twitter"}},[t._v("\n                        Twitter\n                      ")]),e("network",{staticClass:"px-1",attrs:{network:"vk",id:"vk"}},[t._v("\n                        VK\n                      ")]),e("network",{staticClass:"pl-1",attrs:{network:"telegram",id:"telegram"}},[t._v("\n                        Telegram\n                      ")])],1)},staticRenderFns:[]}})],1)],1)],1)],1)],1),a("AdsView")],1)],1)],1):a("div",{staticStyle:{"text-align":"center"}},[t._v("loading...")]),a("RecBooks")],1)},C=[];function _(t){e("bbww")}var B=!1,y=_,$="data-v-521ccc4a",E=null,M=Object(d["a"])(b,x,C,B,y,$,E);s["default"]=M.exports},bbww:function(t,s){},jrnI:function(t,s){}});